{
  "base_url": "http://akas.imdb.com",
  "scrapers": [
    {
      "id": "movie_combined_details",
      "url": "/title/tt{imdb_id:07}/combined",
      "format": "html",
      "pre": [
        {
          "op": "root",
          "path": ".//div[@id='tn15']"
        },
        {
          "op": "remove",
          "path": ".//a[@class='tn15more inline']"
        },
        {
          "op": "remove",
          "path": ".//div[@class='info-content']//a[@class='tn15more']"
        },
        {
          "op": "set_attr",
          "path": ".//div[@class='info']/h5/..",
          "name": "woody",
          "value": {
            "path": "./h5//text()",
            "reducer": "normalize"
          }
        },
        {
          "op": "set_text",
          "path": ".//div[@woody='also_known_as']//br",
          "value": ":BR:"
        }
      ],
      "items": [
        {
          "key": "long_title",
          "value": {
            "path": ".//div[@id='tn15crumbs']/b/text()",
            "reducer": "first"
          }
        },
        {
          "key": "poster",
          "value": {
            "path": ".//img[@id='primary-poster']/@src",
            "reducer": "first"
          }
        },
        {
          "key": "title",
          "value": {
            "path": ".//div[@id='tn15title']/h1/text()",
            "reducer": "clean"
          }
        },
        {
          "key": "episode_title",
          "value": {
            "path": ".//div[@id='tn15title']/h1/span/em/text()",
            "reducer": "clean"
          }
        },
        {
          "key": "year",
          "value": {
            "path": ".//div[@id='tn15title']/h1/span/a/text()",
            "reducer": "clean"
          }
        },
        {
          "key": "tv_extra",
          "value": {
            "path": ".//span[@class='tv-extra']/text()",
            "reducer": "clean"
          }
        },
        {
          "key": "rating",
          "value": {
            "path": ".//div[@class='starbar-meta']/b/text()",
            "reducer": "first"
          }
        },
        {
          "key": "votes",
          "value": {
            "path": ".//div[@class='starbar-meta']/a/text()",
            "reducer": "first"
          }
        },
        {
          "key": "rank",
          "value": {
            "path": ".//div[@class='starbar-special']/a/text()",
            "reducer": "first"
          }
        },
        {
          "key": "genres",
          "value": {
            "foreach": ".//div[@woody='genre']/div[@class='info-content']/a",
            "path": "./text()",
            "reducer": "first"
          }
        },
        {
          "key": "tagline",
          "value": {
            "path": ".//div[@woody='tagline']/div[@class='info-content']/text()",
            "reducer": "clean"
          }
        },
        {
          "key": "plot",
          "value": {
            "path": ".//div[@woody='plot']/div[@class='info-content']/text()",
            "reducer": "clean"
          }
        },
        {
          "key": "plot_keywords",
          "value": {
            "foreach": ".//div[@id='tn15plotkeywords']//a",
            "path": "./text()",
            "reducer": "first"
          }
        },
        {
          "key": "also_known_as",
          "value": {
            "path": ".//div[@woody='also_known_as']/div[@class='info-content']//text()",
            "reducer": "clean"
          }
        },
        {
          "key": "mpaa",
          "value": {
            "path": ".//div[@woody='mpaa']/div[@class='info-content']/text()",
            "reducer": "clean"
          }
        },
        {
          "key": "runtime",
          "value": {
            "path": ".//div[@woody='runtime']/div[@class='info-content']/text()",
            "reducer": "clean"
          }
        },
        {
          "key": "countries",
          "value": {
            "foreach": ".//div[@woody='country']/div[@class='info-content']/a",
            "path": "./text()",
            "reducer": "first"
          }
        },
        {
          "key": "country_codes",
          "value": {
            "foreach": ".//div[@woody='country']/div[@class='info-content']/a",
            "path": "./@href",
            "reducer": "first"
          }
        },
        {
          "key": "languages",
          "value": {
            "foreach": ".//div[@woody='language']/div[@class='info-content']/a",
            "path": "./text()",
            "reducer": "first"
          }
        },
        {
          "key": "language_codes",
          "value": {
            "foreach": ".//div[@woody='language']/div[@class='info-content']/a",
            "path": "./@href",
            "reducer": "first"
          }
        },
        {
          "key": "color",
          "value": {
            "path": ".//div[@woody='color']/div[@class='info-content']//text()",
            "reducer": "clean"
          }
        },
        {
          "key": "aspect_ratio",
          "value": {
            "path": ".//div[@woody='aspect_ratio']/div[@class='info-content']/text()",
            "reducer": "clean"
          }
        },
        {
          "key": "sound_mix",
          "value": {
            "path": ".//div[@woody='sound_mix']/div[@class='info-content']//text()",
            "reducer": "clean"
          }
        },
        {
          "key": "certification",
          "value": {
            "path": ".//div[@woody='certification']/div[@class='info-content']//text()",
            "reducer": "clean"
          }
        }
      ]
    }
  ]
}
